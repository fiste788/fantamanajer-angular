/* stylelint-disable value-keyword-case */
@use '@angular/material' as mat;
@use '@angular/material-experimental' as matx;
@use 'sass:color';
@use 'sass:map';
@use 'sass:math';

/// Estimate a hue using the given previous and next hues.
@function _estimate-hue($hues, $hue, $prev-hue, $next-hue) {
  $weight: math.div($next-hue - $hue, $next-hue - $prev-hue) * 100%;
  @return color.mix(map.get($hues, $prev-hue), map.get($hues, $next-hue), $weight);
}

// TODO(mmalerba): Remove this and add correct values for these hues.
/// The Material Design spec references some neutral hues that are not generated by
/// https://m3.material.io/theme-builder. For now we use this function to estimate the missing hues
/// by blending the nearest hues that are generated.
@function _patch-missing-hues($palette) {
  $neutral: map.get($palette, neutral);
  $palette: map.set($palette, neutral, 4, _estimate-hue($neutral, 4, 0, 10));
  $palette: map.set($palette, neutral, 6, _estimate-hue($neutral, 6, 0, 10));
  $palette: map.set($palette, neutral, 12, _estimate-hue($neutral, 12, 10, 20));
  $palette: map.set($palette, neutral, 17, _estimate-hue($neutral, 17, 10, 20));
  $palette: map.set($palette, neutral, 22, _estimate-hue($neutral, 22, 20, 25));
  $palette: map.set($palette, neutral, 24, _estimate-hue($neutral, 24, 20, 25));
  $palette: map.set($palette, neutral, 87, _estimate-hue($neutral, 87, 80, 90));
  $palette: map.set($palette, neutral, 92, _estimate-hue($neutral, 92, 90, 95));
  $palette: map.set($palette, neutral, 94, _estimate-hue($neutral, 94, 90, 95));
  $palette: map.set($palette, neutral, 96, _estimate-hue($neutral, 96, 95, 98));
  @return $palette;
}

$orange-palette: _patch-missing-hues(
  (
    0: #000000,
    10: #410004,
    20: #68000b,
    25: #7d0010,
    30: #930014,
    35: #a70c1c,
    40: #b81d26,
    50: #dc393b,
    60: #ff5352,
    70: #ff8982,
    80: #ffb3ae,
    90: #ffdad7,
    95: #ffedeb,
    98: #fff8f7,
    99: #fffbff,
    100: #ffffff,
    secondary: (
      0: #000000,
      10: #350f0e,
      20: #4f2321,
      25: #5c2e2b,
      30: #6a3936,
      35: #774441,
      40: #85504c,
      50: #a26864,
      60: #bf817c,
      70: #dc9b96,
      80: #fab5b0,
      90: #ffdad7,
      95: #ffedeb,
      98: #fff8f7,
      99: #fffbff,
      100: #ffffff,
    ),
    neutral: (
      0: #000000,
      10: #201a1a,
      20: #362f2e,
      25: #413a39,
      30: #4d4544,
      35: #595050,
      40: #655c5b,
      50: #7f7574,
      60: #998e8d,
      70: #b4a9a7,
      80: #d0c4c2,
      90: #ede0de,
      95: #fbeeec,
      98: #fff8f7,
      99: #fffbff,
      100: #ffffff,
    ),
    neutral-variant: (
      0: #000000,
      10: #251918,
      20: #3b2d2c,
      25: #473837,
      30: #534342,
      35: #5f4f4d,
      40: #6b5a59,
      50: #857371,
      60: #a08c8a,
      70: #bba6a5,
      80: #d8c2bf,
      90: #f5dddb,
      95: #ffedeb,
      98: #fff8f7,
      99: #fffbff,
      100: #ffffff,
    ),
  )
);
$magenta-palette: _patch-missing-hues(
  (
    0: #000000,
    10: #3f0017,
    20: #66002a,
    25: #7a0034,
    30: #90003e,
    35: #a50049,
    40: #bb0053,
    50: #e8096a,
    60: #ff4c85,
    70: #ff85a3,
    80: #ffb1c1,
    90: #ffd9df,
    95: #ffecee,
    98: #fff8f7,
    99: #fffbff,
    100: #ffffff,
    secondary: (
      0: #000000,
      10: #380a19,
      20: #52202d,
      25: #5f2a38,
      30: #6d3543,
      35: #7b414e,
      40: #894c5a,
      50: #a56473,
      60: #c27d8c,
      70: #e097a6,
      80: #ffb2c1,
      90: #ffd9df,
      95: #ffecee,
      98: #fff8f7,
      99: #fffbff,
      100: #ffffff,
    ),
    neutral: (
      0: #000000,
      10: #201a1b,
      20: #352f30,
      25: #413a3b,
      30: #4c4546,
      35: #585051,
      40: #655c5d,
      50: #7e7576,
      60: #988e8f,
      70: #b3a9aa,
      80: #cfc4c5,
      90: #ece0e0,
      95: #faeeef,
      98: #fff8f7,
      99: #fffbff,
      100: #ffffff,
    ),
    neutral-variant: (
      0: #000000,
      10: #24191b,
      20: #3a2d2f,
      25: #46383a,
      30: #524345,
      35: #5e4f51,
      40: #6a5a5d,
      50: #847375,
      60: #9e8c8f,
      70: #baa7a9,
      80: #d6c2c4,
      90: #f3dde0,
      95: #ffecee,
      98: #fff8f7,
      99: #fffbff,
      100: #ffffff,
    ),
  )
);
$m3-base-config: (
  color: (
    primary: $orange-palette,
  ),
  typography: (
    plain-family: '"Exo 2"',
    brand-family: '"Exo 2"',
  ),
);

// Our M3 light theme.
$theme: matx.define-theme($m3-base-config);
