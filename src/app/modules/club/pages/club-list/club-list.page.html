<div
  *ngIf="(clubs$ | async) as clubs; else loading"
  class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 grid-rows-1 gap-x-12"
  @cardCreationAnimation
>
  <mat-card
    *ngFor="let club of clubs; let i=index; trackBy: track"
    appearance="outlined"
  >
    <mat-card-header>
      <img
        class="club-header-image"
        mat-card-avatar
        [alt]="club.name"
        [lazyLoad]="club.photo_url || ''"
      >
      <mat-card-title>{{club.name}}</mat-card-title>
      <mat-card-subtitle>Club</mat-card-subtitle>
    </mat-card-header>

    <img
      defaultImage="//via.placeholder.com/600x337"
      height="337"
      mat-card-image
      sizes="(min-width: 60em) calc(.3 * (100vw - 15em)), (min-width: 37.5em) 45vw, calc(100vw - 1em)"
      width="600"
      [alt]="club.name"
      [class.has-image]="club.background_url !== null"
      [lazyLoad]="(club.background_url | srcset)"
      [useSrcset]="true"
    >
    <mat-card-actions>
      <a
        color="primary"
        mat-button
        [routerLink]="[club.id]"
      >DETTAGLI</a>
      <a
        color="primary"
        mat-button
        [routerLink]="[club.id, 'stream']"
      >ATTIVITÃ€</a>
    </mat-card-actions>
  </mat-card>

</div>
<ng-template #loading>
  <mat-progress-spinner
    color="accent"
    mode="indeterminate"
  ></mat-progress-spinner>
</ng-template>
