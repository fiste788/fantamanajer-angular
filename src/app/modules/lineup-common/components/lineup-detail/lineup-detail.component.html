<div
  *ngIf="lineup"
  @cardCreationAnimation
>
  <app-lineup-options
    [disabled]="disabled"
    [lineup]="lineup"
  >
    <ng-content
      buttons
      select="[buttons]"
    ></ng-content>
  </app-lineup-options>
  <ng-container *ngIf="lineupService.selectedModule">
    <div ngModelGroup="dispositions">
      <app-module-area
        [disabled]="disabled"
        [dispositions]="lineupService.lineup.dispositions"
        [membersByRole]="lineupService.membersByRole"
        [module]="lineupService.selectedModule"
        (selectionChange)="lineupService.memberSelectionChange($event.role, $event.member)"
      ></app-module-area>
    </div>
  </ng-container>

  <fieldset
    *ngIf="lineup.dispositions?.length"
    class="flex benchwarmers"
    ngModelGroup="dispositions"
  >
    <mat-card
      appearance="outlined"
      class="grow"
    >
      <mat-card-header>
        <mat-card-title>Panchinari</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="flex flex-col justify-around md:flex-row md:flex-wrap">
          <div
            *ngFor="let bench of lineupService.benchs; trackBy: trackByBench"
            [ngModelGroup]="bench + ''"
          >
            <app-member-selection
              *ngIf="lineup.dispositions[bench] as disp"
              class="benchwarmer flex flex-row justify-start items-center"
              name="member"
              [disabled]="disabled"
              [height]="450"
              [memberMap]="lineupService.benchOptions"
              [placeholder]="'Panchinaro ' + (bench - 10)"
              [width]="320"
              [(member)]="disp.member"
              (memberChange)="lineupService.benchwarmerSelectionChange($event)"
            >
            </app-member-selection>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
  </fieldset>
</div>