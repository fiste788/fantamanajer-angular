@if ((teams$ | async); as teams) {
<div
  class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 grid-rows-1 gap-x-12"
  @cardCreationAnimation
>
  @for (team of teams; track track(i, team); let i = $index) {
  <mat-card appearance="outlined">
    <figure
      class="aspect-ratio-box"
      mat-card-image
    >
      @if (team.photo_url) {
      <img
        defaultImage="//via.placeholder.com/600x337"
        height="337"
        sizes="(min-width: 60em) calc(.3 * (100vw - 15em)), (min-width: 37.5em) 45vw, calc(100vw - 1em)"
        width="600"
        [alt]="team.name"
        [class.has-image]="team.photo_url !== null"
        [lazyLoad]="(team.photo_url | srcset)"
        [useSrcset]="true"
      >
      } @else {

      <div class="placeholder">
        <span>{{team.name}}</span>
      </div>

      }

      <ng-template #placeholder>
        <div class="placeholder">
          <span>{{team.name}}</span>
        </div>
      </ng-template>
    </figure>
    <mat-card-header>
      <mat-card-title>{{team.name}}</mat-card-title>
      <mat-card-subtitle>{{team.user.email}}</mat-card-subtitle>
    </mat-card-header>
    <mat-card-actions>
      <a
        color="primary"
        mat-button
        [routerLink]="['/teams/',team.id]"
      >DETTAGLI</a>
      <a
        color="primary"
        mat-button
        [routerLink]="['/teams/',team.id, 'scores','last']"
      >PUNTEGGIO</a>
    </mat-card-actions>
  </mat-card>
  }
</div>
} @else {

<mat-progress-spinner
  color="accent"
  mode="indeterminate"
/>

}