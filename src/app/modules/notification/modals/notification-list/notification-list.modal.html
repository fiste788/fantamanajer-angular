<!-- eslint-disable @angular-eslint/template/attributes-order -->
<div
  class="mat-mdc-dialog-container mdc-dialog cdk-dialog-container mdc-dialog--open"
  [@openOverlayAnimation]="animationState"
  (@openOverlayAnimation.done)="onAnimationDone($event)"
  (@openOverlayAnimation.start)="onAnimationStart($event)"
>
  <div class="mdc-dialog__container">
    <div class="mat-mdc-dialog-surface mdc-dialog__surface">
      <h3
        class="mat-mdc-dialog-title title"
        mat-dialog-title
      >Notifiche</h3>
      <div class="content mat-mdc-dialog-content">
        <div *ngIf="(stream$ | async) as stream; else loading">
          <mat-list
            *ngIf="stream.results.length; else empty"
            @listItemAnimation
          >
            <mat-list-item *ngFor="let activity of stream.results; trackBy: track">
              <mat-icon matListItemIcon>{{activity.icon}}</mat-icon>
              <h3 matListItemTitle> {{activity.title}} </h3>
              <span
                matListItemLine
                [title]="(activity.time | date: 'dd/MM/y HH:mm')"
              > {{activity.humanTime}} </span>
              <span matListItemLine> {{activity.body}} </span>
            </mat-list-item>
          </mat-list>
          <ng-template #empty>
            <app-mat-empty-state
              icon="mood"
              label="Nessuna notifica presente"
            ></app-mat-empty-state>
          </ng-template>
        </div>
        <ng-template #loading>
          <mat-progress-spinner
            color="accent"
            mode="indeterminate"
          ></mat-progress-spinner>
        </ng-template>
      </div>
    </div>
  </div>
</div>