@if (!app.seasonEnded) {
<div>
  @if ((lineup$ | async); as lineup) {
  <div>
    @if (lineup.module || editMode) {
    <form
      #lineupForm="ngForm"
      class="flex-container"
      [appMemberAlreadySelected]="lineup"
      (ngSubmit)="save(lineup)"
    >
      <app-lineup-detail
        #lineupDetail
        [benchs]="benchs"
        [disabled]="!editMode"
        [lineup]="lineup"
      >
        @if (editMode) {
        <button
          align="end"
          buttons
          color="accent"
          mat-raised-button
          type="submit"
        >Salva</button>
        }
      </app-lineup-detail>
    </form>
    } @else {

    <h3 class="subheading-1">Formazione non settata</h3>

    }
  </div>
  } @else {

  <mat-progress-spinner
    color="accent"
    mode="indeterminate"
  />

  }
</div>
} @else {

<app-mat-empty-state
  description="Goditi l'estate e tieniti pronto per la prossima stagione"
  icon="wb_sunny"
  [label]="(app.matchday$ | async)?.season?.name + ' conclusa'"
  rounded
/>

}
<ng-template #seasonEnded>
  <app-mat-empty-state
    description="Goditi l'estate e tieniti pronto per la prossima stagione"
    icon="wb_sunny"
    [label]="(app.matchday$ | async)?.season?.name + ' conclusa'"
    rounded
  />
</ng-template>