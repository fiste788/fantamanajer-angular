<!-- eslint-disable @angular-eslint/template/no-call-expression -->
<div
  class="parallax-container"
  [style.viewTransitionName]="viewTransitionName()"
>
  <div
    #parallax
    class="parallax"
  >
    <div class="parallax-header-img">
      <div appRellax>
        <img
          placeholder="//via.placeholder.com/1200x800"
          sizes=""
          [alt]="title"
          [appSrcset]="backgroundImage"
          (load)="imageLoad()"
        >
      </div>
    </div>
    <div class="parallax-header-title-container">
      @if (image) {
      <img
        [alt]="title"
        [src]="image"
        [style.viewTransitionName]="'avatar-' + title"
      >
      }
      <div class="parallax-header-title">
        <a
          class="anchor"
          id="tab"
        >Anchor</a>
        <h1
          class="mat-headline-4 title"
          [style.viewTransitionName]="'title-' + title"
        >{{title}}</h1>
        <div class="subtitle">
          @if (subtitle) {
          <p class="mat-subtitle-2">{{subtitle}}
            <ng-content select="subtitle" />
          </p>
          }
        </div>
      </div>
      <ng-content
        class="parallax-header-right"
        select="[parallax-header-right]"
      />
    </div>
  </div>

  @if (tabs.length) {
  <nav
    mat-tab-nav-bar
    [tabPanel]="tabPanel"
  >
    @for (tab of tabs; track track($index, tab)) {

    @if (!tab.hidden) {
    <a
      #rla="routerLinkActive"
      mat-tab-link
      routerLinkActive
      fragment="tab"
      [active]="rla.isActive"
      [routerLink]="tab.link"
    >
      {{tab.label}}
    </a>
    }

    }
  </nav>
  }
</div>